require("gui/WindowUtils")
local GameTools = CS.GameTools;
local matchTeam ={};

function UpdateMatchTeamName(name)	
	if matchTeam.teamName ~= nil then
		matchTeam.teamName.text = name;
	end
end

function onLastTeamBtnClick(context)	
	PlayButtonSound();
	if matchTeam.lastTeamBtnHander then		
		local name = matchTeam.lastTeamBtnHander();
		UpdateMatchTeamName(name);
	end
end

function onNextTeamBtnClick(context)	
	PlayButtonSound();
	if matchTeam.nextTeamBtnHander then		
		local name = matchTeam.nextTeamBtnHander()
		UpdateMatchTeamName(name);
	end
end

function InitMatchUI(selfComponent)		
	matchTeam.selfComponent = selfComponent;
	matchTeam.typeController = selfComponent:GetController("typeController");
	if matchTeam.typeController then
		matchTeam.typeController.selectedIndex = 0;
	end	
	matchTeam.lastTeamBtn = selfComponent:GetChild("lastTeamBtn");	
	matchTeam.nextTeamBtn = selfComponent:GetChild("nextTeamBtn");	
	matchTeam.teamName = selfComponent:GetChild("teamName");	
	if matchTeam.lastTeamBtn ~= nil then
		matchTeam.lastTeamBtn.onClick:Add(onLastTeamBtnClick);	
	end	
	if matchTeam.nextTeamBtn ~= nil then
		matchTeam.nextTeamBtn.onClick:Add(onNextTeamBtnClick);
	end		
end

function InitMatchAndEvent(lastTeamBtnHander, nextTeamBtnHander)		
	if matchTeam.typeController then
		matchTeam.typeController.selectedIndex = 1;
	end	
	-- if matchTeam.lastTeamBtn then
		-- matchTeam.lastTeamBtn.visible = false;
	-- end
	-- if matchTeam.nextTeamBtn then
		-- matchTeam.nextTeamBtn.visible = false;
	-- end	

	matchTeam.lastTeamBtnHander = lastTeamBtnHander;
	matchTeam.nextTeamBtnHander = nextTeamBtnHander;
end